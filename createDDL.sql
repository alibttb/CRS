CREATE TABLE CONTACT_INFO (ID NUMBER(19) NOT NULL, EMAIL VARCHAR2(255) NULL, PHONE VARCHAR2(255) NULL, "TYPE" VARCHAR2(255) NULL, LOC_ID NUMBER(19) NULL, PID NUMBER(19) NULL, PRIMARY KEY (ID))
CREATE TABLE PRSN (PID NUMBER(19) NOT NULL, PRSN_TYPE VARCHAR2(31) NULL, BIRTH_DATE DATE NULL, BIRTH_PLACE VARCHAR2(255) NULL, FAMILY_NAME VARCHAR2(255) NULL, FATHER_NAME VARCHAR2(255) NULL, FIRST_NAME VARCHAR2(255) NULL, MOTHER_FAMILY_NAME VARCHAR2(255) NULL, MOTHER_NAME VARCHAR2(255) NULL, PRIMARY KEY (PID))
CREATE TABLE USR (PID NUMBER(19) NOT NULL, HASH_SHA256 VARCHAR2(255) NULL, USR_ROLE VARCHAR2(255) NULL, SALT VARCHAR2(255) NULL, USER_NAME VARCHAR2(255) NULL, WORK_START_DATE DATE NULL, PRIMARY KEY (PID))
CREATE TABLE DCTR (PID NUMBER(19) NOT NULL, DCTR_MAIN_SPEC VARCHAR2(255) NULL, DCTR_SUB_SPEC VARCHAR2(255) NULL, PRIMARY KEY (PID))
CREATE TABLE DCTR_ORDER (ID NUMBER(19) NOT NULL, DESCRIPTION VARCHAR2(255) NULL, NAME VARCHAR2(255) NULL, NOTES VARCHAR2(255) NULL, RDR_TYPE VARCHAR2(255) NULL, VST_ID NUMBER(19) NULL, PRIMARY KEY (ID))
CREATE TABLE DIAGANOSED_WITH (NOTES VARCHAR2(255) NULL, SEVERITY VARCHAR2(255) NULL, DGNSS_ID NUMBER(19) NOT NULL UNIQUE, VST_ID NUMBER(19) NOT NULL UNIQUE, PRIMARY KEY (DGNSS_ID, VST_ID))
CREATE TABLE DIAGANOSIS (ID NUMBER(19) NOT NULL, CODE VARCHAR2(255) NULL, DESCRIBTION VARCHAR2(255) NULL, DGNSS_TYPE VARCHAR2(255) NULL, NAME VARCHAR2(255) NULL, PRIMARY KEY (ID))
CREATE TABLE DOCUMENT (ID NUMBER(19) NOT NULL, CONTENT BLOB NULL, DESCRIBTION VARCHAR2(255) NULL, DOC_TYPE VARCHAR2(255) NULL, NAME VARCHAR2(255) NULL, NOTES VARCHAR2(255) NULL, RDR_ID NUMBER(19) NULL, VST_ID NUMBER(19) NULL, PRIMARY KEY (ID))
CREATE TABLE HAS_SYMPTOM (NOTES VARCHAR2(255) NULL, REPETATION VARCHAR2(255) NULL, SEVERITY VARCHAR2(255) NULL, START_DATE DATE NULL, SMPTM_ID NUMBER(19) NOT NULL UNIQUE, VST_ID NUMBER(19) NOT NULL UNIQUE, PRIMARY KEY (SMPTM_ID, VST_ID))
CREATE TABLE LCTN (LOC_ID NUMBER(19) NOT NULL, ALTITTUDE VARCHAR2(255) NULL, "level" NUMBER(38) NULL, LOCATION_STRING VARCHAR2(255) NULL, MAGNITUDE VARCHAR2(255) NULL, NAME VARCHAR2(255) NULL, SUPER_ID NUMBER(38) NULL, PRIMARY KEY (LOC_ID))
CREATE TABLE MEASURMENT (ID NUMBER(19) NOT NULL, DESCRIBTION VARCHAR2(255) NULL, NAME VARCHAR2(255) NULL, NOTES VARCHAR2(255) NULL, PRIMARY KEY (ID))
CREATE TABLE NRS (PID NUMBER(19) NOT NULL, PRIMARY KEY (PID))
CREATE TABLE PTNT (PID NUMBER(19) NOT NULL, PRIMARY KEY (PID))
CREATE TABLE SYMPTOM (ID NUMBER(19) NOT NULL, DESCRIPTION VARCHAR2(255) NULL, NAME VARCHAR2(255) NULL, NOTES VARCHAR2(255) NULL, PRIMARY KEY (ID))
CREATE TABLE TK_MSRMNT (NOTES VARCHAR2(255) NULL, NUMRICAL_VALUE NUMBER(38) NULL, TEXTUAL_VALUE VARCHAR2(255) NULL, MSRMNT_ID NUMBER(19) NOT NULL UNIQUE, VST_ID NUMBER(19) NOT NULL UNIQUE, PRIMARY KEY (MSRMNT_ID, VST_ID))
CREATE TABLE TREATED_WITH (DOSAGE NUMBER(38) NULL, DURATION_DAYS NUMBER(38) NULL, NOTES VARCHAR2(255) NULL, REPETATION VARCHAR2(255) NULL, UNIT VARCHAR2(255) NULL, TRTMNT_ID NUMBER(19) NOT NULL UNIQUE, VST_ID NUMBER(19) NOT NULL UNIQUE, PRIMARY KEY (TRTMNT_ID, VST_ID))
CREATE TABLE TREATMENT (ID NUMBER(19) NOT NULL, DESCRIPTION VARCHAR2(255) NULL, NAME VARCHAR2(255) NULL, "TYPE" VARCHAR2(255) NULL, PRIMARY KEY (ID))
CREATE TABLE VISIT (ID NUMBER(19) NOT NULL, NOTES VARCHAR2(255) NULL, VST_DATE DATE NULL, VST_TYPE VARCHAR2(255) NULL, PID NUMBER(19) NULL, PRIMARY KEY (ID))
ALTER TABLE CONTACT_INFO ADD CONSTRAINT FK_CONTACT_INFO_LOC_ID FOREIGN KEY (LOC_ID) REFERENCES LCTN (LOC_ID)
ALTER TABLE CONTACT_INFO ADD CONSTRAINT FK_CONTACT_INFO_PID FOREIGN KEY (PID) REFERENCES PRSN (PID)
ALTER TABLE USR ADD CONSTRAINT FK_USR_PID FOREIGN KEY (PID) REFERENCES PRSN (PID)
ALTER TABLE DCTR ADD CONSTRAINT FK_DCTR_PID FOREIGN KEY (PID) REFERENCES PRSN (PID)
ALTER TABLE DCTR_ORDER ADD CONSTRAINT FK_DCTR_ORDER_VST_ID FOREIGN KEY (VST_ID) REFERENCES VISIT (ID)
ALTER TABLE DIAGANOSED_WITH ADD CONSTRAINT FK_DIAGANOSED_WITH_DGNSS_ID FOREIGN KEY (DGNSS_ID) REFERENCES DIAGANOSIS (ID)
ALTER TABLE DIAGANOSED_WITH ADD CONSTRAINT FK_DIAGANOSED_WITH_VST_ID FOREIGN KEY (VST_ID) REFERENCES VISIT (ID)
ALTER TABLE DOCUMENT ADD CONSTRAINT FK_DOCUMENT_VST_ID FOREIGN KEY (VST_ID) REFERENCES VISIT (ID)
ALTER TABLE DOCUMENT ADD CONSTRAINT FK_DOCUMENT_RDR_ID FOREIGN KEY (RDR_ID) REFERENCES DCTR_ORDER (ID)
ALTER TABLE HAS_SYMPTOM ADD CONSTRAINT FK_HAS_SYMPTOM_VST_ID FOREIGN KEY (VST_ID) REFERENCES VISIT (ID)
ALTER TABLE HAS_SYMPTOM ADD CONSTRAINT FK_HAS_SYMPTOM_SMPTM_ID FOREIGN KEY (SMPTM_ID) REFERENCES SYMPTOM (ID)
ALTER TABLE NRS ADD CONSTRAINT FK_NRS_PID FOREIGN KEY (PID) REFERENCES PRSN (PID)
ALTER TABLE PTNT ADD CONSTRAINT FK_PTNT_PID FOREIGN KEY (PID) REFERENCES PRSN (PID)
ALTER TABLE TK_MSRMNT ADD CONSTRAINT FK_TK_MSRMNT_MSRMNT_ID FOREIGN KEY (MSRMNT_ID) REFERENCES MEASURMENT (ID)
ALTER TABLE TK_MSRMNT ADD CONSTRAINT FK_TK_MSRMNT_VST_ID FOREIGN KEY (VST_ID) REFERENCES VISIT (ID)
ALTER TABLE TREATED_WITH ADD CONSTRAINT FK_TREATED_WITH_TRTMNT_ID FOREIGN KEY (TRTMNT_ID) REFERENCES TREATMENT (ID)
ALTER TABLE TREATED_WITH ADD CONSTRAINT FK_TREATED_WITH_VST_ID FOREIGN KEY (VST_ID) REFERENCES VISIT (ID)
ALTER TABLE VISIT ADD CONSTRAINT FK_VISIT_PID FOREIGN KEY (PID) REFERENCES PRSN (PID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR2(50) NOT NULL, SEQ_COUNT NUMBER(38) NULL, PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN_TABLE', 0)
