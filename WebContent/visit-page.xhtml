<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/template.xhtml">

	<ui:define name="title">
		<h:outputText
			value="Patient: #{patientProfileView.fullName} - #{visitView.service.selected.vstDate}" />
	</ui:define>

	<ui:define name="content">
		<p:panel id="bigPanel">
			<f:facet name="header">
				<p:panelGrid columns="4" style="width: 100%">
					<p:outputLabel value="Patient Name: " />
					<p:outputLabel value="#{patientProfileView.fullName}" />
					<p:outputLabel value="Patient Number: " />
					<p:outputLabel
						value="#{patientProfileView.patientService.selected.pid}" />
				</p:panelGrid>
			</f:facet>
			<div style="width: 100%; height: 100%">
				<p:dashboard id="board" model="#{visitView.dashboardModel}">
					<p:panel id="symptoms" header="symptoms">
						<h:form id="smptmFrm">
							<p:growl id="msgs" showDetail="true" />
							<p:dataTable id="hsSmptmDtId"
								value="#{hasSymptomView.service.list}"
								selection="#{hasSymptomView.service.selected}"
								selectionMode="single" var="smp" rowKey="#{smp.id}">
								<p:ajax event="rowSelect" update="smptmEditBtn, smptmDeleteBtn" />
								<p:ajax event="rowUnselect"
									update="smptmEditBtn, smptmDeleteBtn" />
								<p:column headerText="Name">
									<h:outputText value="#{smp.symptom.name}" />
								</p:column>
								<p:column headerText="Repetation">
									<h:outputText value="#{smp.repetation}" />
								</p:column>
								<p:column headerText="Severity">
									<h:outputText value="#{smp.severity}" />
								</p:column>
								<p:column headerText="Start date">
									<h:outputText value="#{smp.startDate}">
										<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
									</h:outputText>
								</p:column>
								<p:column headerText="Notes">
									<h:outputText value="#{smp.notes}" />
								</p:column>
								<f:facet name="footer">
									<p:commandButton value="Add" icon="fa fa-plus" process="@this"
										actionListener="#{hasSymptomView.onAddButtonClicked}"
										update="@widgetVar(smptmDlgWv)"
										oncomplete="PF('smptmDlgWv').show()" />
									<p:commandButton value="Edit" icon="fa fa-pencil"
										process="@this" id="smptmEditBtn"
										actionListener="#{hasSymptomView.onEditButtonClicked}"
										update="@widgetVar(smptmDlgWv)"
										disabled="#{hasSymptomView.service.selected eq null}"
										oncomplete="PF('smptmDlgWv').show()" />
									<p:commandButton value="Delete" icon="fa fa-remove"
										process="@this" id="smptmDeleteBtn" update="@form"
										disabled="#{hasSymptomView.service.selected eq null}"
										actionListener="#{hasSymptomView.onDeleteButtonClicked}">
										<p:confirm header="Confirmation"
											message="Are you sure you want to delete #{hasSymptomView.service.selected.symptom.name}"
											icon="fa fa-remove" />
									</p:commandButton>
								</f:facet>
							</p:dataTable>

							<p:dialog id="smptmDlg" widgetVar="smptmDlgWv" modal="true"
								closable="false">
								<p:panelGrid id="smptmPanel" columns="2"
									columnClasses="label, value">
									<p:outputLabel value="Symptom: " for="smptmName" />
									<p:autoComplete id="smptmName" required="true"
										requiredMessage="Symptom name is manadotry."
										value="#{hasSymptomView.service.selected.symptom}"
										completeMethod="#{hasSymptomView.completeSymptom}" var="sm"
										itemLabel="#{sm.name}" itemValue="#{sm}" forceSelection="true"
										maxResults="12" converter="symptomConveter" />
									<p:outputLabel value="Repetation:" for="smptmRep" />
									<p:selectOneButton id="smptmRep"
										value="#{hasSymptomView.service.selected.repetation}"
										required="true" requiredMessage="Repetation is manadotry">
										<f:selectItem itemLabel="Frequent" itemValue="Frequent" />
										<f:selectItem itemLabel="Average" itemValue="Average" />
										<f:selectItem itemLabel="Rare" itemValue="Rare" />
										<f:selectItem itemLabel="Once" itemValue="Once" />
									</p:selectOneButton>
									<p:outputLabel value="Severity:" for="smptmSev" />
									<p:selectOneButton id="smptmSev"
										value="#{hasSymptomView.service.selected.severity}"
										required="true" requiredMessage="Severity is manadotry">
										<f:selectItem itemLabel="Mild" itemValue="Mild" />
										<f:selectItem itemLabel="Moderate" itemValue="Moderate" />
										<f:selectItem itemLabel="Strong" itemValue="Strong" />
									</p:selectOneButton>
									<p:outputLabel value="Start Date:" for="smptmStDt" />
									<p:calendar id="smptmStDt" navigator="true" required="true"
										requiredMessage="Symptom start date is manadotry"
										value="#{hasSymptomView.service.selected.startDate}"
										pattern="dd/MM/yyyy HH:mm:ss" mask="true" effect="fade"
										locale="ar_SY" maxdate="#{visitView.service.selected.vstDate}" />
									<p:outputLabel value="Notes:" for="smptmNotes" />
									<p:inputTextarea id="smptmNotes"
										value="#{hasSymptomView.service.selected.notes}"
										maxlength="210" placeholder="notes" />
								</p:panelGrid>
								<f:facet name="footer">
									<p:commandButton id="smptmSave" value="Save" icon="fa fa-save"
										oncomplete="handelSmptmSaveRequest(xhr, status, args)"
										process="smptmPanel, @this"
										actionListener="#{hasSymptomView.onSaveButtonClicked}"
										update="smptmPanel, smptmFrm:hsSmptmDtId, smptmFrm:msgs" />
									<p:commandButton id="smptmCancel" value="Cancel"
										process="@this"
										update="smptmPanel, smptmFrm:hsSmptmDtId, smptmFrm:msgs"
										actionListener="#{hasSymptomView.onCancelButtonClicked}"
										icon="fa fa-remove" oncomplete="PF('smptmDlgWv').hide()">
										<p:resetInput target="smptmPanel" />
									</p:commandButton>
								</f:facet>
							</p:dialog>
							<script>
								function handelSmptmSaveRequest(xhr, status,
										args) {
									if (args.validationFailed) {
										PF('smptmDlgWv').jq.effect("shake", {
											times : 5
										}, 100);
									} else {
										PF('smptmDlgWv').hide();
									}
								}
							</script>
						</h:form>
					</p:panel>
					<p:panel id="measurments" header="measurments">
						<h:form id="msrmntFrm">
							<p:growl id="msgs" showDetail="true" />
							<p:dataTable id="dtId" value="#{tkMsrmntView.service.list}"
								selection="#{tkMsrmntView.service.selected}"
								selectionMode="single" var="item" rowKey="#{item.id}">
								<p:ajax event="rowSelect" update="editBtn, deleteBtn" />
								<p:ajax event="rowUnselect" update="editBtn, deleteBtn" />
								<p:column headerText="Measurment Name">
									<h:outputText value="#{item.measurment.name}" />
								</p:column>
								<p:column headerText="Value (Number)">
									<h:outputText value="#{item.numricalValue}" />
								</p:column>
								<p:column headerText="Value Text">
									<h:outputText value="#{item.textualValue}" />
								</p:column>
								<p:column headerText="Notes">
									<h:outputText value="#{item.notes}" />
								</p:column>
								<f:facet name="footer">
									<p:commandButton value="Add" icon="fa fa-plus" process="@this"
										actionListener="#{tkMsrmntView.onAddButtonClicked}"
										update="@widgetVar(msrmntDlgWv)"
										oncomplete="PF('msrmntDlgWv').show()" />
									<p:commandButton value="Edit" icon="fa fa-pencil"
										process="@this" id="editBtn"
										actionListener="#{tkMsrmntView.onEditButtonClicked}"
										update="@widgetVar(msrmntDlgWv)"
										disabled="#{tkMsrmntView.service.selected eq null}"
										oncomplete="PF('msrmntDlgWv').show()" />
									<p:commandButton value="Delete" icon="fa fa-remove"
										process="@this" id="deleteBtn" update="@form"
										disabled="#{tkMsrmntView.service.selected eq null}"
										actionListener="#{tkMsrmntView.onDeleteButtonClicked}">
										<p:confirm header="Confirmation"
											message="Are you sure you want to delete #{tkMsrmntView.service.selected.measurment.name}"
											icon="fa fa-remove" />
									</p:commandButton>
								</f:facet>
							</p:dataTable>
							<p:dialog id="msrmntDlg" widgetVar="msrmntDlgWv" modal="true"
								closable="false" showEffect="explode" hideEffect="explode">
								<p:panelGrid id="msrmntPanel" columns="2"
									columnClasses="label, value">
									<p:outputLabel value="Measurment:" for="msrmntName" />
									<p:autoComplete id="msrmntName" required="true"
										requiredMessage="Measurment name is manadotry."
										value="#{tkMsrmntView.service.selected.measurment}"
										completeMethod="#{tkMsrmntView.completeMeasurment}" var="tk"
										itemLabel="#{tk.name}" itemValue="#{tk}" forceSelection="true"
										maxResults="12" converter="measurmentConveter">
										<p:tooltip for="msrmntName" value="#{tk.description}" />
									</p:autoComplete>

									<p:outputLabel value="Numrical Value:" for="msrmntNumVal" />
									<p:spinner id="msrmntNumVal" stepFactor="0.1"
										value="#{tkMsrmntView.service.selected.numricalValue}" />
									<p:outputLabel value="Text Value:" for="msrmntTxtVal" />
									<p:inputText id="msrmntTxtVal"
										value="#{tkMsrmntView.service.selected.textualValue}" />
									<p:outputLabel value="Notes:" for="msrmntNotes" />
									<p:inputTextarea id="msrmntNotes"
										value="#{tkMsrmntView.service.selected.notes}" maxlength="210"
										placeholder="notes" />
								</p:panelGrid>
								<f:facet name="footer">
									<p:commandButton id="msrmntSave" value="Save" icon="fa fa-save"
										oncomplete="handelMsrmntSaveRequest(xhr, status, args)"
										process="msrmntPanel, @this"
										actionListener="#{tkMsrmntView.onSaveButtonClicked}"
										update="msrmntPanel, msrmntFrm:dtId, msrmntFrm:msgs" />
									<p:commandButton id="msrmntCancel" value="Cancel"
										process="@this"
										update="msrmntPanel, msrmntFrm:dtId, msrmntFrm:msgs"
										actionListener="#{tkMsrmntView.onCancelButtonClicked}"
										icon="fa fa-remove" oncomplete="PF('msrmntDlgWv').hide()">
										<p:resetInput target="msrmntPanel" />
									</p:commandButton>
								</f:facet>
							</p:dialog>
							<script>
								function handelMsrmntSaveRequest(xhr, status,
										args) {
									if (args.validationFailed) {
										PF('msrmntDlgWv').jq.effect("shake", {
											times : 5
										}, 100);
									} else {
										PF('msrmntDlgWv').hide();
									}
								}
							</script>
						</h:form>
					</p:panel>
					<p:panel id="diaganosis" header="diaganosis">
						<h:form id="dgnssFrm">
							<p:growl id="msgs" showDetail="true" />
							<p:dataTable id="dtId" value="#{diagnosedWithView.service.list}"
								selection="#{diagnosedWithView.service.selected}"
								selectionMode="single" var="item" rowKey="#{item.id}">
								<p:ajax event="rowSelect" update="editBtn, deleteBtn" />
								<p:ajax event="rowUnselect" update="editBtn, deleteBtn" />
								<p:column headerText="Diagnosis Name">
									<h:outputText id="dgnssName" value="#{item.diagnosis.name}" />
									<p:tooltip for="dgnssName"
										value="#{item.diagnosis.describtion}" />
								</p:column>
								<p:column headerText="Severity">
									<h:outputText value="#{item.severity}" />
								</p:column>
								<p:column headerText="Notes">
									<h:outputText value="#{item.notes}" />
								</p:column>
								<f:facet name="footer">
									<p:commandButton value="Add" icon="fa fa-plus" process="@this"
										actionListener="#{diagnosedWithView.onAddButtonClicked}"
										update="@widgetVar(dgnssDlgWv)"
										oncomplete="PF('dgnssDlgWv').show()" />
									<p:commandButton value="Edit" icon="fa fa-pencil"
										process="@this" id="editBtn"
										actionListener="#{diagnosedWithView.onEditButtonClicked}"
										update="@widgetVar(dgnssDlgWv)"
										disabled="#{diagnosedWithView.service.selected eq null}"
										oncomplete="PF('dgnssDlgWv').show()" />
									<p:commandButton value="Delete" icon="fa fa-remove"
										process="@this" id="deleteBtn" update="@form"
										disabled="#{diagnosedWithView.service.selected eq null}"
										actionListener="#{diagnosedWithView.onDeleteButtonClicked}">
										<p:confirm header="Confirmation"
											message="Are you sure you want to delete #{diagnosedWithView.service.selected.diagnosis.name}"
											icon="fa fa-remove" />
									</p:commandButton>
								</f:facet>
							</p:dataTable>
							<p:dialog id="dgnssDlg" widgetVar="dgnssDlgWv" modal="true"
								closable="false" showEffect="explode" hideEffect="explode">
								<p:panelGrid id="dgnssPanel" columns="2"
									columnClasses="label, value">
									<p:outputLabel value="Diagnosis:" for="dgnssName" />
									<p:autoComplete id="dgnssName" required="true"
										placeholder="Diagnosis"
										requiredMessage="Diagnosis name is manadotry."
										value="#{diagnosedWithView.service.selected.diagnosis}"
										completeMethod="#{diagnosedWithView.completeDiagnosis}"
										var="dgw" itemLabel="#{dgw.name}" itemValue="#{dgw}"
										forceSelection="true" maxResults="12"
										converter="diagnosisConveter">
										<p:tooltip for="dgnssName" value="#{dgw.description}" />
									</p:autoComplete>

									<p:outputLabel value="Severity:" for="dgnssSev" />
									<p:selectOneButton id="dgnssSev"
										value="#{diagnosedWithView.service.selected.severity}"
										required="true" requiredMessage="Severity is manadotry">
										<f:selectItem itemLabel="Mild" itemValue="Mild" />
										<f:selectItem itemLabel="Moderate" itemValue="Moderate" />
										<f:selectItem itemLabel="Strong" itemValue="Strong" />
									</p:selectOneButton>
									<p:outputLabel value="Notes:" for="dgnssNotes" />
									<p:inputTextarea id="dgnssNotes"
										value="#{diagnosedWithView.service.selected.notes}"
										maxlength="210" placeholder="notes" />
								</p:panelGrid>
								<f:facet name="footer">
									<p:commandButton id="dgnssSave" value="Save" icon="fa fa-save"
										oncomplete="handelDgnssSaveRequest(xhr, status, args)"
										process="dgnssPanel, @this"
										actionListener="#{diagnosedWithView.onSaveButtonClicked}"
										update="dgnssPanel, dgnssFrm:dtId, dgnssFrm:msgs" />
									<p:commandButton id="dgnssCancel" value="Cancel"
										process="@this"
										update="dgnssPanel, dgnssFrm:dtId, dgnssFrm:msgs"
										actionListener="#{diagnosedWithView.onCancelButtonClicked}"
										icon="fa fa-remove" oncomplete="PF('dgnssDlgWv').hide()">
										<p:resetInput target="dgnssPanel" />
									</p:commandButton>
								</f:facet>
							</p:dialog>
							<script>
								function handelDgnssSaveRequest(xhr, status,
										args) {
									if (args.validationFailed) {
										PF('dgnssDlgWv').jq.effect("shake", {
											times : 5
										}, 100);
									} else {
										PF('dgnssDlgWv').hide();
									}
								}
							</script>
						</h:form>
					</p:panel>
					<p:panel id="treatments" header="treatments">
						<h:form id="trtmntFrm">
							<p:growl id="msgs" showDetail="true" />
							<p:dataTable id="dtId" value="#{treatedWithView.service.list}"
								selection="#{treatedWithView.service.selected}"
								selectionMode="single" var="item" rowKey="#{item.id}">
								<p:ajax event="rowSelect" update="editBtn, deleteBtn" />
								<p:ajax event="rowUnselect" update="editBtn, deleteBtn" />
								<p:column headerText="Treatment Name">
									<h:outputText id="trtmntName" value="#{item.treatment.name}" />
									<p:tooltip for="trtmntName"
										value="#{item.treatment.description}" />
								</p:column>
								<p:column headerText="Dosage">
									<h:outputText value="#{item.dosage}" />
								</p:column>
								<p:column headerText="Unit">
									<h:outputText value="#{item.unit}" />
								</p:column>
								<p:column headerText="Repetation">
									<h:outputText value="#{item.repetation}" />
								</p:column>
								<p:column headerText="Dutraion (Days)">
									<h:outputText value="#{item.durationDays}" />
								</p:column>
								<p:column headerText="Notes">
									<h:outputText value="#{item.notes}" />
								</p:column>
								<f:facet name="footer">
									<p:commandButton value="Add" icon="fa fa-plus" process="@this"
										actionListener="#{treatedWithView.onAddButtonClicked}"
										update="@widgetVar(trtmntDlgWv)"
										oncomplete="PF('trtmntDlgWv').show()" />
									<p:commandButton value="Edit" icon="fa fa-pencil"
										process="@this" id="editBtn"
										actionListener="#{treatedWithView.onEditButtonClicked}"
										update="@widgetVar(trtmntDlgWv)"
										disabled="#{treatedWithView.service.selected eq null}"
										oncomplete="PF('trtmntDlgWv').show()" />
									<p:commandButton value="Delete" icon="fa fa-remove"
										process="@this" id="deleteBtn" update="@form"
										disabled="#{treatedWithView.service.selected eq null}"
										actionListener="#{treatedWithView.onDeleteButtonClicked}">
										<p:confirm header="Confirmation"
											message="Are you sure you want to delete #{treatedWithView.service.selected.treatment.name}"
											icon="fa fa-remove" />
									</p:commandButton>
								</f:facet>
							</p:dataTable>
							<p:dialog id="trtmntDlg" widgetVar="trtmntDlgWv" modal="true"
								closable="false" showEffect="explode" hideEffect="explode">
								<p:panelGrid id="trtmntPanel" columns="2"
									columnClasses="label, value">
									<p:outputLabel value="Treatment:" for="trtmntName" />
									<p:autoComplete id="trtmntName" required="true"
										placeholder="Treatment"
										requiredMessage="Treatment name is manadotry."
										value="#{treatedWithView.service.selected.treatment}"
										completeMethod="#{treatedWithView.completeTreatment}"
										var="trw" itemLabel="#{trw.name}" itemValue="#{trw}"
										forceSelection="true" maxResults="12"
										converter="treatmentConveter">
										<p:tooltip for="trtmntName" value="#{trw.description}" />
									</p:autoComplete>

									<p:outputLabel value="Dosage:" for="trtmntDos" />
									<p:spinner id="trtmntDos"
										value="#{treatedWithView.service.selected.dosage}">
										<f:validateDoubleRange minimum="0" />
									</p:spinner>
									<p:outputLabel for="trtmntUn" value="Unit" />
									<p:inputText id="trtmntUn"
										value="#{treatedWithView.service.selected.unit}" />
									<p:outputLabel for="trtmntRep" value="Repetation" />
									<p:inputText id="trtmntRep"
										value="#{treatedWithView.service.selected.repetation}" />
									<p:outputLabel for="trtmntDuration" value="Duration (Days)" />
									<p:spinner id="trtmntDuration"
										value="#{treatedWithView.service.selected.durationDays}">
										<f:validateDoubleRange minimum="0" />
									</p:spinner>
									<p:outputLabel value="Notes:" for="dgnssNotes" />
									<p:inputTextarea id="dgnssNotes"
										value="#{treatedWithView.service.selected.notes}"
										maxlength="210" placeholder="notes" />
								</p:panelGrid>
								<f:facet name="footer">
									<p:commandButton id="dtrtmntSave" value="Save"
										icon="fa fa-save"
										oncomplete="handelTrtmntSaveRequest(xhr, status, args)"
										process="trtmntPanel, @this"
										actionListener="#{treatedWithView.onSaveButtonClicked}"
										update="trtmntPanel, trtmntFrm:dtId, trtmntFrm:msgs" />
									<p:commandButton id="trtmntCancel" value="Cancel"
										process="@this"
										update="trtmntPanel, trtmntFrm:dtId, trtmntFrm:msgs"
										actionListener="#{treatedWithView.onCancelButtonClicked}"
										icon="fa fa-remove" oncomplete="PF('trtmntDlgWv').hide()">
										<p:resetInput target="trtmntPanel" />
									</p:commandButton>
								</f:facet>
							</p:dialog>
							<script>
								function handelTrtmntSaveRequest(xhr, status,
										args) {
									if (args.validationFailed) {
										PF('trtmntDlgWv').jq.effect("shake", {
											times : 5
										}, 100);
									} else {
										PF('trtmntDlgWv').hide();
									}
								}
							</script>
						</h:form>
					</p:panel>
					<p:panel id="orders" header="orders">
						<!-- Orders form start  -->
						<h:form id="ordrsFrm">
							<p:growl id="msgs" showDetail="true" />
							<p:dataTable id="dtId" value="#{dctrOrderView.service.list}"
								selection="#{dctrOrderView.service.selected}"
								selectionMode="single" var="item" rowKey="#{item.id}">
								<p:ajax event="rowSelect" update="editBtn, deleteBtn" />
								<p:ajax event="rowUnselect" update="editBtn, deleteBtn" />
								<p:column headerText="Order Type">
									<h:outputText value="#{item.rdrType}" />
								</p:column>
								<p:column headerText="Order Name">
									<h:outputText value="#{item.name}" />
								</p:column>
								<p:column headerText="Description">
									<h:outputText value="#{item.description}" />
								</p:column>
								<p:column headerText="Notes">
									<h:outputText value="#{item.notes}" />
								</p:column>
								<f:facet name="footer">
									<p:commandButton value="Add" icon="fa fa-plus" process="@this"
										actionListener="#{dctrOrderView.onAddButtonClicked}"
										update="@widgetVar(dctrOrderDlgWv)"
										oncomplete="PF('dctrOrderDlgWv').show()" />
									<p:commandButton value="Edit" icon="fa fa-pencil"
										process="@this" id="editBtn"
										actionListener="#{dctrOrderView.onEditButtonClicked}"
										update="@widgetVar(dctrOrderDlgWv)"
										disabled="#{dctrOrderView.service.selected eq null}"
										oncomplete="PF('dctrOrderDlgWv').show()" />
									<p:commandButton value="Delete" icon="fa fa-remove"
										process="@this" id="deleteBtn" update="@form"
										disabled="#{dctrOrderView.service.selected eq null}"
										actionListener="#{dctrOrderView.onDeleteButtonClicked}">
										<p:confirm header="Confirmation"
											message="Are you sure you want to delete #{dctrOrderView.service.selected.name}"
											icon="fa fa-remove" />
									</p:commandButton>
								</f:facet>
							</p:dataTable>
							<p:dialog id="dctrOrderDlg" widgetVar="dctrOrderDlgWv"
								modal="true" closable="false" showEffect="explode"
								hideEffect="explode">
								<p:panelGrid id="dctrOrderPanel" columns="2"
									columnClasses="label, value">
									<p:outputLabel value="Type:" for="dctrOrderType" />
									<p:autoComplete id="dctrOrderType" required="true"
										placeholder="Type" requiredMessage="Type name is manadotry."
										value="#{dctrOrderView.service.selected.rdrType}"
										completeMethod="#{dctrOrderView.completeDctrOrderType}"
										var="dot" itemLabel="#{dot}" itemValue="#{dot}"
										forceSelection="false" />
									<p:outputLabel value="Description" for="dctrOrderDesc" />
									<p:inputTextarea id="dctrOrderDesc" maxlength="210"
										value="#{dctrOrderView.service.selected.description}" />
									<p:outputLabel value="Name:" for="dctrOrderName" />
									<p:autoComplete id="dctrOrderName" required="true"
										requiredMessage="Order name is manadotry" placeholder="Name"
										value="#{dctrOrderView.service.selected.name}"
										completeMethod="#{dctrOrderView.completeDctrOrderName}"
										var="don" itemLabel="#{don}" itemValue="#{don}"
										forceSelection="false" />
									<p:outputLabel value="Notes:" for="dctrOrderNotes" />
									<p:inputTextarea id="dctrOrderNotes"
										value="#{dctrOrderView.service.selected.notes}"
										maxlength="210" placeholder="notes" />
								</p:panelGrid>
								<f:facet name="footer">
									<p:commandButton id="dctrOrderSave" value="Save"
										icon="fa fa-save"
										oncomplete="handelDctrOrderSaveRequest(xhr, status, args)"
										process="dctrOrderPanel, @this"
										actionListener="#{dctrOrderView.onSaveButtonClicked}"
										update="dctrOrderPanel, ordrsFrm:dtId, ordrsFrm:msgs" />
									<p:commandButton id="dctrOrderCancel" value="Cancel"
										process="@this"
										update="dctrOrderPanel, ordrsFrm:dtId, ordrsFrm:msgs"
										actionListener="#{dctrOrderView.onCancelButtonClicked}"
										icon="fa fa-remove" oncomplete="PF('dctrOrderDlgWv').hide()">
										<p:resetInput target="dctrOrderPanel" />
									</p:commandButton>
								</f:facet>
							</p:dialog>
							<script>
								function handelDctrOrderSaveRequest(xhr,
										status, args) {
									if (args.validationFailed) {
										PF('dctrOrderDlgWv').jq.effect("shake",
												{
													times : 5
												}, 100);
									} else {
										PF('dctrOrderDlgWv').hide();
									}
								}
							</script>
						</h:form>
						<!-- Orders form end -->
					</p:panel>
					<p:panel id="documents" header="documents">
						<h:form id="docuFrm">
							<p:growl id="msgs" showDetail="true" />
							<p:dataTable id="dtId" value="#{documentView.service.list}"
								selection="#{documentView.service.selected}"
								selectionMode="single" var="item" rowKey="#{item.id}">
								<p:ajax event="rowSelect" update="editBtn, deleteBtn" />
								<p:ajax event="rowUnselect" update="editBtn, deleteBtn" />
								<p:column headerText="Name">
									<h:outputText value="#{item.name}" />
								</p:column>
								<p:column headerText="Description">
									<h:outputText value="#{item.description}" />
								</p:column>
								<p:column headerText="Notes">
									<h:outputText value="#{item.notes}" />
								</p:column>
								<f:facet name="footer">
									<p:commandButton value="Add" icon="fa fa-plus" process="@this"
										actionListener="#{documentView.onAddButtonClicked}"
										update="@widgetVar(docuDlgWv)"
										oncomplete="PF('docuDlgWv').show()" />
									<p:commandButton value="Edit" icon="fa fa-pencil"
										process="@this" id="editBtn"
										actionListener="#{documentView.onEditButtonClicked}"
										update="@widgetVar(docuDlgWv)"
										disabled="#{documentView.service.selected eq null}"
										oncomplete="PF('docuDlgWv').show()" />
									<p:commandButton value="Delete" icon="fa fa-remove"
										process="@this" id="deleteBtn" update="@form"
										disabled="#{documentView.service.selected eq null}"
										actionListener="#{documentView.onDeleteButtonClicked}">
										<p:confirm header="Confirmation"
											message="Are you sure you want to delete #{documentView.service.selected.name}"
											icon="fa fa-remove" />
									</p:commandButton>
								</f:facet>
							</p:dataTable>
							<p:dialog id="docuDlg" widgetVar="docuDlgWv" modal="true"
								closable="false" showEffect="explode" hideEffect="explode">
								<p:panelGrid id="docuPanel" columns="2"
									columnClasses="label, value">
									<p:outputLabel value="Type:" for="docuType" />
									<p:autoComplete id="docuType" required="true"
										placeholder="Name" requiredMessage="Type name is manadotry."
										value="#{documentView.service.selected.name}"
										completeMethod="#{documentView.completeDocumentName}"
										var="doc" itemLabel="#{doc}" itemValue="#{doc}"
										forceSelection="false" />
									<p:outputLabel value="Description" for="docuDesc" />
									<p:inputTextarea id="docuDesc" maxlength="210"
										value="#{documentView.service.selected.description}" />

									<p:outputLabel value="Notes:" for="docuNotes" />
									<p:inputTextarea id="docuNotes"
										value="#{documentView.service.selected.notes}" maxlength="210"
										placeholder="notes" />
								</p:panelGrid>
								<f:facet name="footer">
									<p:commandButton id="docuSave" value="Save" icon="fa fa-save"
										oncomplete="handelDocumentSaveRequest(xhr, status, args)"
										process="docuPanel, @this"
										actionListener="#{documentView.onSaveButtonClicked}"
										update="docuPanel, docuFrm:dtId, docuFrm:msgs" />
									<p:commandButton id="docuCancel" value="Cancel" process="@this"
										update="docuPanel, docuFrm:dtId, docuFrm:msgs"
										actionListener="#{documentView.onCancelButtonClicked}"
										icon="fa fa-remove" oncomplete="PF('docuDlgWv').hide()">
										<p:resetInput target="docuPanel" />
									</p:commandButton>
								</f:facet>
							</p:dialog>
							<script>
								function handelDocumentSaveRequest(xhr, status,
										args) {
									if (args.validationFailed) {
										PF('docuDlgWv').jq.effect("shake", {
											times : 5
										}, 100);
									} else {
										PF('docuDlgWv').hide();
									}
								}
							</script>
						</h:form>



					</p:panel>
				</p:dashboard>

				<div style="clear: both" />
			</div>
			<h:form id="confirmDlg">
				<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
					<p:commandButton value="Yes" type="button"
						styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
					<p:commandButton value="No" type="button"
						styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				</p:confirmDialog>
			</h:form>
		</p:panel>
	</ui:define>

</ui:composition>
</html>
