<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title><ui:insert name="title">Clinic Record System 0.1</ui:insert></title>
</h:head>
<h:body>
	<div id="header">
		<ui:insert name="header">
    	Header area.  See comments below this line in the source.
    	<!--  include your header file or uncomment the include below and create header.xhtml in this directory -->
			<!-- <ui:include src="header.xhtml"/> -->
		</ui:insert>
	</div>
	<div id="content">
		<h:form>
			<p:panel id="panel" header="Login" style="margin-bottom:10px;">
				<p:messages id="messages" />
				<h:panelGrid columns="2" cellpadding="5">
					<h:outputLabel for="username" value="Username:" />
					<p:inputText id="username" required="true"
						value="#{userBean.username}"
						validatorMessage="You must input a user name" />

					<h:outputText for="password" value="Password: " />
					<p:password id="password" value="#{userBean.password}"
						validatorMessage="Password can't be empty" />
				</h:panelGrid>
			</p:panel>
			<p:commandButton value="Submit" update="panel"
				action="#{userBean.authenticate}" />
		</h:form>
		<p:panel toggleable="true" toggleTitle="users">
			<h:form id="form">
				<p:dataTable id="users" value="#{userDAO.users}" var="user"
					scrollable="true" scrollHeight="200" scrollWidth="80%" >
					<p:column width="80" headerText="id">#{user.pid}</p:column>
					<p:column width="120" headerText="role">#{user.role}</p:column>
					<p:column width="200" headerText="first name">#{user.firstName}</p:column>
				</p:dataTable>
				<p:commandButton update="users" action="#{userDAO.addRandomUser}"
					value="Insert Random User">
				</p:commandButton>
			</h:form>
		</p:panel>
	</div>

	<div id="footer">
		<ui:insert name="footer">
    	Footer area.  See comments below this line in the source.
    	<!--  include your header file or uncomment the include below and create footer.xhtml in this directory -->
			<!--<ui:include src="footer.xhtml"/>  -->
		</ui:insert>
	</div>
</h:body>

</html>
